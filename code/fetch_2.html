<!DOCTYPE html>
<html lang="id">

<head>
  <title>fetch api</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>

<body>
  <ul id="products"></ul>
  <script>
    const url = "https://fakestoreapi.com/products";
    function getDataApi() {
      return fetch(url, {
        method: "GET",
      }).then((response) => {
        return response.json();
      });
    }

    function postDataProduct() {
      return fetch(url, {
        method: "POST",
        body: JSON.stringify({
          title: "Tes Product",
          price: 13.5,
          description:
            "Lorem ipsum dolor sit amet, qui minim labore adipisicing minim sint cillum sint consectetur cupidatat.",
          image: "none",
          category: "electronic",
        }),
      }).then((response) => {
        return response.json();
      });
    }
    function displayProducts(data) {
      data.forEach((product) => displayProduct(product));
    }

    function displayProduct(product) {
      const productLi = document.createElement("li");
      productLi.textContent = product.title;

      const productUl = document.getElementById("products");
      productUl.appendChild(productLi);
    }

    const promise = getDataApi().then((data) => {
      displayProducts(data);
    });

    const promise2 = postDataProduct();
    promise2.then((data) => {
      console.log(data);
    });
  </script>
</body>

</html>
